nil
clj꞉user꞉> 
; Evaluating file: interface_test.clj
; 
; ; clj  elara.interface-test 
; WARNING: abs already refers to: #'clojure.core/abs in namespace: medley.core, being replaced by: #'medley.core/abs
#'elara.interface-test/tool-use-test
clj꞉elara.interface-test꞉> 
; Running tests for the following namespaces:
;   elara.interface-test
;   elara.interface

; 2025-01-07T18:14:41.087649Z INFO TRACE SanguivoreMacBook.local elara.clients.openai(37,14) ::request - (:body ...) => {:id "chatcmpl-An8OAp3XfVEZRWPoyhUXaWzM0xGYN", :object "chat.completion", :created 1736273682, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :continue-thinking :data {:thoughts \"I need to create a character with a name, age, and a motivation that is exactly 10 words long.\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 473, :completion_tokens 36, :total_tokens 509, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}
;     uid: "Xj0BA0qxsRIX76ZDMc486"
;     ctx: {:agent-role "Creative Writer", :llm-model "gpt-4o-mini", :max-tokens 1000}
;     run: {:form (:body ...), :time "1.84s", :nsecs 1836875167, :val {:id "chatcmpl-An8OAp3XfVEZRWPoyhUXaWzM0xGYN", :object "chat.completion", :created 1736273682, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :continue-thinking :data {:thoughts \"I need to create a character with a name, age, and a motivation that is exactly 10 words long.\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 473, :completion_tokens 36, :total_tokens 509, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}, :val-type clojure.lang.PersistentArrayMap}
; 2025-01-07T18:14:42.926654Z INFO TRACE SanguivoreMacBook.local elara.clients.openai(37,14) ::request - (:body ...) => {:id "chatcmpl-An8OB4Rd7Lfqc5OHfFqUfpdYAVIbv", :object "chat.completion", :created 1736273683, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :continue-thinking :data {:thoughts \"Thinking of a name that feels unique and fitting. Then I will choose a realistic age. For motivation, I need something that has exactly 10 words capturing the character's aspirations or goals.\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 517, :completion_tokens 51, :total_tokens 568, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}
;     uid: "IhyUUUzkXYs0gxbs5Cgqz"
;     ctx: {:agent-role "Creative Writer", :llm-model "gpt-4o-mini", :max-tokens 1000}
;     run: {:form (:body ...), :time "1.36s", :nsecs 1362765208, :val {:id "chatcmpl-An8OB4Rd7Lfqc5OHfFqUfpdYAVIbv", :object "chat.completion", :created 1736273683, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :continue-thinking :data {:thoughts \"Thinking of a name that feels unique and fitting. Then I will choose a realistic age. For motivation, I need something that has exactly 10 words capturing the character's aspirations or goals.\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 517, :completion_tokens 51, :total_tokens 568, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}, :val-type clojure.lang.PersistentArrayMap}
; 2025-01-07T18:14:44.289574Z INFO TRACE SanguivoreMacBook.local elara.clients.openai(37,14) ::request - (:body ...) => {:id "chatcmpl-An8OCaJEzuiNeb4kfASnIIaSJvXPX", :object "chat.completion", :created 1736273684, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :continue-thinking :data {:thoughts \"I could name the character 'Lina', which has a nice ring to it. For age, perhaps 28 could work well. Now to craft a motivation. How about: 'To explore the world and find beauty in every moment'?\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 576, :completion_tokens 62, :total_tokens 638, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}
;     uid: "9nQgYL08kysAITIQR80zR"
;     ctx: {:agent-role "Creative Writer", :llm-model "gpt-4o-mini", :max-tokens 1000}
;     run: {:form (:body ...), :time "1.53s", :nsecs 1533315041, :val {:id "chatcmpl-An8OCaJEzuiNeb4kfASnIIaSJvXPX", :object "chat.completion", :created 1736273684, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :continue-thinking :data {:thoughts \"I could name the character 'Lina', which has a nice ring to it. For age, perhaps 28 could work well. Now to craft a motivation. How about: 'To explore the world and find beauty in every moment'?\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 576, :completion_tokens 62, :total_tokens 638, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}, :val-type clojure.lang.PersistentArrayMap}
; 2025-01-07T18:14:45.823046Z INFO TRACE SanguivoreMacBook.local elara.clients.openai(37,14) ::request - (:body ...) => {:id "chatcmpl-An8OEjZbF7wpoXgxkHBBUCM8KhKPI", :object "chat.completion", :created 1736273686, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :final-answer :data {:name \"Lina\", :age 28, :motivation \"To explore the world and find beauty in every moment\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 646, :completion_tokens 34, :total_tokens 680, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}
;     uid: "KqoJ575UqNBkXcQDZf2Fb"
;     ctx: {:agent-role "Creative Writer", :llm-model "gpt-4o-mini", :max-tokens 1000}
;     run: {:form (:body ...), :time "851ms", :nsecs 851155167, :val {:id "chatcmpl-An8OEjZbF7wpoXgxkHBBUCM8KhKPI", :object "chat.completion", :created 1736273686, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :final-answer :data {:name \"Lina\", :age 28, :motivation \"To explore the world and find beauty in every moment\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 646, :completion_tokens 34, :total_tokens 680, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}, :val-type clojure.lang.PersistentArrayMap}
; 2025-01-07T18:14:46.682768Z INFO TRACE SanguivoreMacBook.local elara.clients.openai(37,14) ::request - (:body ...) => {:id "chatcmpl-An8OEUvcKvsgjVhOPdwJr6egjoANJ", :object "chat.completion", :created 1736273686, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :use-tool :data {:tool-name :wrapped-test/id-generator :parameters {:id-type \"generated\"}}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 576, :completion_tokens 25, :total_tokens 601, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}
;     uid: "rjY7ORMJbG3zDxgK_1F80"
;     ctx: {:agent-role "Creative Writer", :llm-model "gpt-4o-mini", :max-tokens 1000}
;     run: {:form (:body ...), :time "579ms", :nsecs 579206625, :val {:id "chatcmpl-An8OEUvcKvsgjVhOPdwJr6egjoANJ", :object "chat.completion", :created 1736273686, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :use-tool :data {:tool-name :wrapped-test/id-generator :parameters {:id-type \"generated\"}}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 576, :completion_tokens 25, :total_tokens 601, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}, :val-type clojure.lang.PersistentArrayMap}
; 2025-01-07T18:14:47.262500Z INFO TRACE SanguivoreMacBook.local elara.clients.openai(37,14) ::request - (:body ...) => {:id "chatcmpl-An8OFwSddLFaRDErZZc0SrewBK19W", :object "chat.completion", :created 1736273687, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :final-answer :data {:name \"Avery\", :age 28, :motivation \"To explore the unknown and inspire others through adventure.\", :id \"generated-d559c962-5985-4274-a322-da63d5cbe7f5\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 659, :completion_tokens 59, :total_tokens 718, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}
;     uid: "r0BSsKK-y7gQ47hLSCH1W"
;     ctx: {:agent-role "Creative Writer", :llm-model "gpt-4o-mini", :max-tokens 1000}
;     run: {:form (:body ...), :time "892ms", :nsecs 892236750, :val {:id "chatcmpl-An8OFwSddLFaRDErZZc0SrewBK19W", :object "chat.completion", :created 1736273687, :model "gpt-4o-mini-2024-07-18", :choices [{:index 0, :message {:role "assistant", :content "{:action :final-answer :data {:name \"Avery\", :age 28, :motivation \"To explore the unknown and inspire others through adventure.\", :id \"generated-d559c962-5985-4274-a322-da63d5cbe7f5\"}}", :refusal nil}, :logprobs nil, :finish_reason "stop"}], :usage {:prompt_tokens 659, :completion_tokens 59, :total_tokens 718, :prompt_tokens_details {:cached_tokens 0, :audio_tokens 0}, :completion_tokens_details {:reasoning_tokens 0, :audio_tokens 0, :accepted_prediction_tokens 0, :rejected_prediction_tokens 0}}, :system_fingerprint "fp_0aa8d3e20b"}, :val-type clojure.lang.PersistentArrayMap}
; 4 tests finished, all passing 👍, ns: 1, vars: 2
clj꞉elara.interface-test꞉> 
